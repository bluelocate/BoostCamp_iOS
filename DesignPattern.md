# 디자인 패턴
## 디자인 패턴이란?

- 개발할때 자주 나타나는 문제들을 해결하기 위한 방법 중 하나. 과거에 자주 발견된 경험들을 축적하여 이름을 붙이고 이후에 재사용하기에 좋은 형태로 규약을 묶어 정리한 것이다. 

-  소프트웨어를 개발하다 보니 구현 코드는 달라도 유사한 문제가 발생하는데, 그 때 패턴을 사용하게 되고, 개발 관련자들 사이에 의사소통 도구로 사용된다.

* 디자인 패턴의 예시
  * MVC, MVVM, MVP (iOS 아키텍쳐 패턴)
  * 빌더 패턴, 팩토리 메서드 패턴, 프로토타입 패턴, 싱글턴 패턴(Gang of four 패턴)

- 이 뒤로 보게 될 MVC, MVVM, MVP는 iOS 아키텍쳐 패턴에 대한 내용이다.
- 구조적인 것만 디자인 패턴은 아니다.(디자인 패턴이 아키텍쳐 패턴보다 훨씬 넓은 개념)




## MVC 란?

## 탄생 배경
표현계층과 데이터(처리로직)를 분리하여 데이터 러치 로직이 중복 코딩되는 것을 막고 로직과 엔티티(데이터)를 재사용하는데 목적

### **핵심패턴**
   * 어플리케이션의 흐름제어나 사용자의 처리 요청은 컨트롤러에 집중
   * 뷰와 모델의 상호간의 흐름제어를 하는 비지니스 로직을 처리하는 모델과 결과 화면을 보여주는 뷰가 분리


### **주 목적**
  * 컨트롤러 영역을 통해 모델과 뷰 영역간의 코드 결합도를 현저히 낮춤으로써 모델 영역의 비지니스 로직 변경 시 해당하는 뷰 영역의 변경 사항이 줄어든다.
  * 컨트롤러 영역을 통해 전체 어플리케이션 코드 관리가 용이해진다.
  * 결과적으로 어플리케이션 유지보수 시 비지니스 로직에 대한 변경사항이 많은 경우 추가되는 개발 비용이 현저히 내려간다.


### **구성 요소**
  * **Models** - 데이터나 데이터 접근 레이어(Person 클래스나 PersonDataProvider 클래스와 같이 데이터를 다루고있는) 소유를 책임지는 부분
  * **Views** - 레이어에 표현되어 있는 것을 책임지는 부분(GUI), iOS 환경에서는 'UI'가 접두로 붙는다(역자주: UILabel, UIView 등등..).
  * **Controller** - Model과 View를 붙여준다. 보통 유저가 View에서 어떤 액션을 취할때 Model을 변경하거나 Model이 변경되었을 때, View를 갱신하는 책임을 가지는 부분


### **단점**
   * 이전 MV 패턴과는 달리 좀 더 복잡한 개발 구조를 통해 초기 개발 비용이 올라간다. 즉 영역들간의 세밀화된 역할 분기로 인하여 설계 및 작성해야 할 코드 량이 많아진다.
   * MVC패턴의 복잡한 아키텍쳐로 인해 각 영역에 대한 재 사용성은 이전 MV 패턴에 비해 많은 부분이 좋아졌지만, 그 만큼 새롭게 추가되는 Controller 영역의 역할이 중요해졌으며, 만약 개발이 잘못되었을 경우 어플리케이션 전체에 미치는 악 영향이 매우 커질 수 있다. 
   * 뷰는 모델을 이용하기 때문에 서로간의 의존성을 완벽히 피할 수 없다.


### **결론**
   * 뷰와 모델간의 의존성을 최대한 낮게한 패턴이 좋은 패턴이다.
 

## MVP 란?

### **핵심 패턴**
	* 애플의 MVC에서는 View와 Controller가 ViewController에 섞여 있어 구분이 애매하지만 MVP에서 Presenter는 ViewController와 분리되어 ViewController는 View의 역할을 하게된다.


### **주 목적**
	* 프로그램의 유지보수를 용이하게 하고 단위테스트를 가능하게 한다.


### **구성 요소**
	* **Model** - MVC에서 마찬가지로 데이터와 데이터와 관련된 로직들을 담당한다.
	* **View** - 사용자에게 보여지는 View 계층을 담당한다. 모델과 분리되어 Presenter에 사용자의 액션 등을 전달한다.
	* **Presenter** - 뷰로 부터 전달받은 사용자의 액션을 처리하고 모델을 업데이트 한다.

### 장점
	* MVC 패턴에서 View와 Controller가 ViewController 안에서 섞여 있기 때문에 ViewController의 코드 양이 많아지게 되는데 MVP에서는 Presenter 클래스를 따로 만들어 ViewController와 Presenter에 코드가 분리되는 장점이 있다.

### 단점
	* View와 Controller를 ViewController에 모아놓은 MVC 패턴에 비해 Presenter를 따로 생성하는 MVP는 작은 규모의 프로그램에서 코드의 양이 MVC에 비해 많아질 수 있다.


# MVVM이란?

### 탄생 배경
- MVVM은 마이크로소프트에서 탄생한 개념으로 기존의 MVC, MVP 모델의 단점을 개선하고, User Interface의 Event Driven Programming을 간소화하기 위하여 개발되었다.
Presentation Design Pattern의 변형

### 주 목적
- View의 의존성을 완전히 제거
- MVC에서는 View와 Model, Controller간의 의존성이 존재하며, MVP에서는 View와 Presenter간의 의존성이 존재
- Data Binding을 통해 View와 ViewModel을 연결
- property 수준에서의 연결
- Unit Test에 용이

### 구성 요소
- View, Model은 기존의 MVC, MVP와 동일
- ViewModel
- View의 추상화
- View와 독립적인 상태

### 단점
- 마이크로소프트에서 개발했기 때문에 다른 플랫폼에서 binding을 구현하기 위해선 번거로운 작업을 따로 거쳐야한다.
- Cocoa 프레임워크는 주로 ReactiveCocoa를 통해 구현
